<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BMW M Power Steering Wheel - 3D Asset</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 40px;
      background: #f4f4f4;
      color: #333;
      text-align: center;
    }
    h1 {
      margin-bottom: 20px;
    }
    .gallery {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
      margin-bottom: 30px;
    }
    .gallery img {
      max-width: 300px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    .description {
      max-width: 800px;
      margin: 0 auto 30px;
      font-size: 1.1em;
      line-height: 1.6;
    }
    .viewer-container {
      max-width: 600px;
      margin: 0 auto 40px;
      position: relative;
      display: none; /* hidden by default */
    }
    .viewer-container img {
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      user-select: none;
    }
    .price {
      font-size: 1.5em;
      color: #721c24;
      margin: 20px 0;
    }
    .buy-btn {
      display: inline-block;
      background: #c0392b;
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 1.1em;
      text-decoration: none;
      transition: background 0.3s;
    }
    .buy-btn:hover {
      background: #e74c3c;
    }
    .back-btn {
      display: inline-block;
      margin-top: 20px;
      color: #333;
      text-decoration: none;
      font-size: 1em;
    }
    .back-btn:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <h1>BMW M Power Steering Wheel</h1>

  <div class="gallery">
    <img src="assets/steering_wheels/BMW_M_POWER.png" alt="BMW M Power Render 1">
    <!-- Add more renders here if you like -->
  </div>

  <div class="description">
    <p>
      Upgrade your driving experience with this BMW M Sport steering wheel, expertly crafted 
      in premium black leather and accented with signature blue stitching for a sporty, luxurious look. 
      Designed for peak performance, it features contoured ergonomics, 
      providing you with precise control and unmatched comfort on every journey. 
      The ideal choice for BMW enthusiasts seeking style, functionality, and enhanced handling. 
      Fits most BMW M models; diameter approximately 14.5 inches (370 mm).
    </p>
  </div>

  <!-- 360° Viewer -->
  <div class="viewer-container" id="viewer">
    <img id="wheel-viewer" src="" alt="BMW M Power Steering Wheel 360° Viewer">
  </div>

  <div class="price">$65</div>
  <a href="https://www.cgtrader.com/your-steering-wheel-link" target="_blank" class="buy-btn">
    Buy on CGTrader
  </a>

  <div>
    <a href="vehicles.html" class="back-btn">← Back to Vehicles</a>
  </div>

  <script>
    const totalFrames = 360; // one per degree if you render them
    const imgElement = document.getElementById('wheel-viewer');
    const viewerContainer = document.getElementById('viewer');
    let currentFrame = 1;
    let isDragging = false;
    let startX = 0;

    // Check if first frame exists before showing viewer
    fetch(`assets/steering_wheels/wheel_001.png`)
      .then(res => {
        if (res.ok) {
          viewerContainer.style.display = 'block';
          imgElement.src = 'assets/steering_wheels/wheel_001.png';
        }
      });

    function updateFrame(frame) {
      imgElement.src = `assets/steering_wheels/wheel_${String(frame).padStart(3, '0')}.png`;
    }

    imgElement.addEventListener('mousedown', (e) => {
      isDragging = true;
      startX = e.pageX;
    });

    window.addEventListener('mouseup', () => {
      isDragging = false;
    });

    window.addEventListener('mousemove', (e) => {
      if (!isDragging || !imgElement.src) return;
      const deltaX = e.pageX - startX;
      if (Math.abs(deltaX) > 5) {
        if (deltaX > 0) {
          currentFrame = (currentFrame % totalFrames) + 1;
        } else {
          currentFrame = (currentFrame - 2 + totalFrames) % totalFrames + 1;
        }
        updateFrame(currentFrame);
        startX = e.pageX;
      }
    });
  </script>
</body>
</html>
